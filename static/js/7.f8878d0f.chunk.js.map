{"version":3,"sources":["hooks/use-user.js","assets/newPost.png","components/Header.js","components/MobileHeader.js","components/Footer.js","components/post/Header.js","hooks/use-photos.js","components/post/Actions.js","components/post/Footer.js","components/post/AddComment.js","components/post/Comments.js","components/post/Image.js","components/post/Post.js","components/Timeline.js","components/sidebar/User.js","components/sidebar/SuggestedProfile.js","components/sidebar/Suggestions.js","components/sidebar/Sidebar.js","pages/Dashboard.js"],"names":["useUser","useState","activeUser","setActiveUser","user","useContext","UserContext","useEffect","a","getUserByUserId","uid","response","getUserObjByUserId","userInfo","Header","firebase","FirebaseContext","history","useHistory","className","to","ROUTES","src","logo","alt","pathname","state","type","newPostIcon","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","title","onClick","auth","signOut","onKeyDown","e","key","push","username","avatar","Footer","userId","docId","photoStorageName","page","postUser","setPostUser","deletePostButton","setDeletePostButton","doesUserExist","checkUserExists","deletePostById","setTimeout","usePhotos","photos","setPhotos","following","followedUserPhotos","undefined","length","getPhotos","displayName","sort","b","dateCreated","getTimelinePhotos","Actions","totalLikes","likedPhoto","handleFocus","toggleLiked","setToggleLiked","likes","setLikes","FieldValue","handleToggleLiked","firestore","collection","doc","update","arrayRemove","arrayUnion","event","tabIndex","caption","AddComment","comments","setComments","commentInput","comment","setComment","handleSubmitComment","preventDefault","commentId","uniqid","photoDocId","userDocId","method","onSubmit","autoComplete","name","placeholder","value","onChange","target","ref","disabled","Comments","allComments","posted","commentToDelete","setCommentToDelete","maxComments","handleY","deleteCommentByCommentId","window","location","reload","handleN","slice","map","item","formatDistance","Date","Image","Post","content","useRef","imageSrc","userLikedPhoto","current","focus","Timeline","style","marginTop","count","width","height","User","fullName","SuggestedProfile","profileDocId","loggedInUserDocId","profileId","followed","setFollowed","updateLoggedInUserFollowing","updateFollowedUserFollowers","Suggestions","profiles","setProfiles","getSuggestedProfiles","suggestedProfiles","profile","Sidebar","Dashboard","document","MobileHeader"],"mappings":"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","file":"static/js/7.f8878d0f.chunk.js","sourcesContent":["import { useState, useEffect, useContext } from \"react\";\r\nimport UserContext from \"../context/user\";\r\nimport { getUserByUserId } from \"../services/firebase\";\r\n\r\nexport default function useUser() {\r\n  const [activeUser, setActiveUser] = useState({});\r\n  const { user } = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    async function getUserObjByUserId() {\r\n      const [response] = await getUserByUserId(user.uid);\r\n      setActiveUser(response);\r\n    }\r\n\r\n    if (user?.uid) {\r\n      getUserObjByUserId();\r\n    }\r\n  }, [user]);\r\n\r\n  // returns userInfo variable, cannot return user variable as that is used in userContext\r\n  return { userInfo: activeUser };\r\n}\r\n","export default __webpack_public_path__ + \"static/media/newPost.84a497c2.png\";","import React, { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport FirebaseContext from \"../context/firebase\";\r\nimport UserContext from \"../context/user\";\r\nimport * as ROUTES from \"../constants/routes\";\r\nimport useUser from \"../hooks/use-user\";\r\nimport newPostIcon from \"../assets/newPost.png\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport logo from \"../assets/logo.png\";\r\n\r\nexport default function Header() {\r\n  const { firebase } = useContext(FirebaseContext);\r\n  const { user } = useContext(UserContext);\r\n  const { userInfo } = useUser();\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <header className=\"h-16 bg-white border-b border-gray-primary sticky top-0 z-50\">\r\n      <div className=\"container mx-auto max-w-screen-lg h-full\">\r\n        <div className=\"flex justify-between h-full pr-5 pl-5\">\r\n          <div className=\"text-gray-700 text-center flex  items-center align-items cursor-pointer\">\r\n            <h1 className=\"flex justify-center w-full\">\r\n              <Link to={ROUTES.DASHBOARD} aria-label=\"instagram header\">\r\n                <img src={logo} alt=\"instagram header\" className=\"mt-2 w-28\" />\r\n              </Link>\r\n            </h1>\r\n          </div>\r\n          <div className=\"text-gray-700 text-center flex flex-none items-center align-items\">\r\n            {user ? (\r\n              <>\r\n                <Link\r\n                  to={{\r\n                    pathname: `${ROUTES.UPLOAD_POST}`,\r\n                    state: { type: \"post\" },\r\n                  }}\r\n                  aria-label=\"upload post\"\r\n                >\r\n                  <img\r\n                    src={newPostIcon}\r\n                    alt=\"add post\"\r\n                    className=\"w-8 mr-4 lg:mr-6 cursor-pointer\"\r\n                  />\r\n                </Link>\r\n                <Link to={ROUTES.DASHBOARD} aria-label=\"timeline\">\r\n                  <svg\r\n                    className=\"w-8 mr-4 lg:mr-6 text-black-light cursor-pointer\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    stroke=\"currentColor\"\r\n                  >\r\n                    <path\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      strokeWidth={2}\r\n                      d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"\r\n                    />\r\n                    <title>Timeline</title>\r\n                  </svg>\r\n                </Link>\r\n                <button\r\n                  type=\"button\"\r\n                  title=\"Sign-out\"\r\n                  onClick={() => firebase.auth().signOut()}\r\n                  onKeyDown={(e) => {\r\n                    if (e.key === \"enter\") {\r\n                      history.push(\"/login\");\r\n                      firebase.auth().signOut();\r\n                    }\r\n                  }}\r\n                >\r\n                  <svg\r\n                    className=\"w-8 mr-4 lg:mr-6 text-black-light cursor-pointer\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    stroke=\"currentColor\"\r\n                  >\r\n                    <path\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      strokeWidth={2}\r\n                      d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"\r\n                    />\r\n                  </svg>\r\n                </button>\r\n                <div className=\"flex items-center cursor-pointer\">\r\n                  <Link to={`/p/${userInfo.username}`}>\r\n                    <img\r\n                      title={`${userInfo.username}`}\r\n                      className=\"rounded-full h-8 w-8 flex object-cover\"\r\n                      src={`${userInfo.avatar}`}\r\n                      alt={`${userInfo.username} profile`}\r\n                    />\r\n                  </Link>\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Link to={ROUTES.LOGIN}>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"bg-blue-primary font-bold text-sm rounded text-white w-20 h-8\"\r\n                  >\r\n                    Login\r\n                  </button>\r\n                </Link>\r\n                <Link to={ROUTES.SIGN_UP}>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"bg-white font-bold text-sm rounded text-blue-primary w-20 h-8\"\r\n                  >\r\n                    Sign-up\r\n                  </button>\r\n                </Link>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport FirebaseContext from \"../context/firebase\";\r\nimport UserContext from \"../context/user\";\r\nimport * as ROUTES from \"../constants/routes\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport logo from \"../assets/logo.png\";\r\n\r\nexport default function Header() {\r\n  const { firebase } = useContext(FirebaseContext);\r\n  const { user } = useContext(UserContext);\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <header className=\"h-12 bg-white border-b border-gray-primary sticky top-0 z-50 mobile-header relative\">\r\n      <div className=\"container mx-auto max-w-screen-lg h-full\">\r\n        <div className=\"flex justify-end h-full pr-5 pl-5\">\r\n          <div className=\"text-gray-700 text-center flex  items-center align-items cursor-pointer absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2\">\r\n            <h1 className=\"flex justify-center w-full\">\r\n              <Link to={ROUTES.DASHBOARD} aria-label=\"instagram header\">\r\n                <img src={logo} alt=\"instagram header\" className=\"mt-2 w-28\" />\r\n              </Link>\r\n            </h1>\r\n          </div>\r\n          <div className=\"text-gray-700 text-center flex flex-none items-center align-items\">\r\n            {user ? (\r\n              <>\r\n                <button\r\n                  type=\"button\"\r\n                  title=\"Sign-out\"\r\n                  onClick={() => firebase.auth().signOut()}\r\n                  onKeyDown={(e) => {\r\n                    if (e.key === \"enter\") {\r\n                      history.push(\"/login\");\r\n                      firebase.auth().signOut();\r\n                    }\r\n                  }}\r\n                >\r\n                  <svg\r\n                    className=\"w-8  text-black-light cursor-pointer\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    stroke=\"currentColor\"\r\n                  >\r\n                    <path\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      strokeWidth={2}\r\n                      d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"\r\n                    />\r\n                  </svg>\r\n                </button>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Link to={ROUTES.LOGIN}>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"bg-blue-primary font-bold text-sm rounded text-white w-20 h-8\"\r\n                  >\r\n                    Login\r\n                  </button>\r\n                </Link>\r\n                <Link to={ROUTES.SIGN_UP}>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"bg-white font-bold text-sm rounded text-blue-primary w-20 h-8\"\r\n                  >\r\n                    Sign-up\r\n                  </button>\r\n                </Link>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport UserContext from \"../context/user\";\r\nimport * as ROUTES from \"../constants/routes\";\r\nimport useUser from \"../hooks/use-user\";\r\nimport newPostIcon from \"../assets/newPost.png\";\r\nimport \"./components.css\";\r\n\r\nexport default function Footer() {\r\n  const { user } = useContext(UserContext);\r\n  const { userInfo } = useUser();\r\n\r\n  return (\r\n    <footer className=\"h-12 bg-white border-b border-gray-primary fixed bottom-0 z-50 w-screen\">\r\n      <div className=\"container mx-auto max-w-screen-lg h-full\">\r\n        <div className=\"flex h-full px-8\">\r\n          <div className=\"text-gray-700 text-center flex justify-between w-screen items-center align-items\">\r\n            {user ? (\r\n              <>\r\n                <Link\r\n                  to={{\r\n                    pathname: `${ROUTES.UPLOAD_POST}`,\r\n                    state: { type: \"post\" },\r\n                  }}\r\n                  aria-label=\"upload post\"\r\n                >\r\n                  <img\r\n                    src={newPostIcon}\r\n                    alt=\"add post\"\r\n                    className=\"w-8  lg:mr-6 cursor-pointer\"\r\n                  />\r\n                </Link>\r\n                <Link to={ROUTES.DASHBOARD} aria-label=\"timeline\">\r\n                  <svg\r\n                    className=\"w-8  lg:mr-6 text-black-light cursor-pointer\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    stroke=\"currentColor\"\r\n                  >\r\n                    <path\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      strokeWidth={2}\r\n                      d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"\r\n                    />\r\n                    <title>Timeline</title>\r\n                  </svg>\r\n                </Link>\r\n\r\n                <div className=\"flex items-center cursor-pointer\">\r\n                  <Link to={`/p/${userInfo.username}`}>\r\n                    <img\r\n                      title={`${userInfo.username}`}\r\n                      className=\"rounded-full h-8 w-8 flex object-cover\"\r\n                      src={`${userInfo.avatar}`}\r\n                      alt={`${userInfo.username} profile`}\r\n                    />\r\n                  </Link>\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Link to={ROUTES.LOGIN}>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"bg-blue-primary font-bold text-sm rounded text-white w-20 h-8\"\r\n                  >\r\n                    Login\r\n                  </button>\r\n                </Link>\r\n                <Link to={ROUTES.SIGN_UP}>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"bg-white font-bold text-sm rounded text-blue-primary w-20 h-8\"\r\n                  >\r\n                    Sign-up\r\n                  </button>\r\n                </Link>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { getUserByUserId, deletePostById } from \"../../services/firebase\";\r\nimport * as ROUTES from \"../../constants/routes\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport useUser from \"../../hooks/use-user\";\r\n\r\nexport default function Header({ userId, docId, photoStorageName, page }) {\r\n  const [postUser, setPostUser] = useState(\"\");\r\n  const [deletePostButton, setDeletePostButton] = useState(false);\r\n  const { userInfo } = useUser();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    async function checkUserExists() {\r\n      const [doesUserExist] = await getUserByUserId(userId);\r\n      if (doesUserExist.userId) {\r\n        setPostUser(doesUserExist);\r\n      } else {\r\n        history.push(ROUTES.NOT_FOUND);\r\n      }\r\n    }\r\n\r\n    checkUserExists();\r\n  }, [userId, history]);\r\n\r\n  const handleX = () => {\r\n    setDeletePostButton(!deletePostButton);\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    deletePostById(docId, photoStorageName);\r\n    setTimeout(function () {\r\n      history.push(\"/\");\r\n    }, 500);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex border-b border-gray-primary h-4 p-4 py-8\">\r\n      <div className=\"flex items-center justify-between w-full\">\r\n        <Link to={`/p/${postUser.username}`} className=\"flex items-center\">\r\n          <img\r\n            src={postUser.avatar}\r\n            className=\"rounded-full h-8 w-8 flex mr-3 object-cover\"\r\n            alt={`${postUser.username} avi`}\r\n          />\r\n          <p className=\"font-bold\">{postUser.username}</p>\r\n        </Link>\r\n        <div className=\"flex justify-center items-center\">\r\n          {deletePostButton && (\r\n            <button\r\n              onClick={handleDelete}\r\n              className=\"hover:bg-red-primary hover:text-white font-bold h-5/6 px-2 py-1 rounded mr-6 duration-150\"\r\n              title=\"confirm delete\"\r\n            >\r\n              delete?\r\n            </button>\r\n          )}\r\n          {userInfo.userId === postUser.userId && page === \"post\" && (\r\n            <button\r\n              className={`relative font-bold text-4xl hover:text-red-primary mr-2 h-12 cursor-pointer duration-150 ${\r\n                deletePostButton\r\n                  ? `hover:text-green-primary`\r\n                  : `hover:text-red-primary`\r\n              }`}\r\n              onClick={handleX}\r\n              title={deletePostButton ? \"cancel delete\" : \"delete your post\"}\r\n            >\r\n              <span className=\"absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2\">\r\n                ×\r\n              </span>\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nHeader.propTypes = {\r\n  username: PropTypes.string,\r\n  docId: PropTypes.string,\r\n  photoStorageName: PropTypes.string.isRequired,\r\n  page: PropTypes.string.isRequired,\r\n};\r\n","import { useState, useEffect, useContext } from \"react\";\r\nimport UserContext from \"../context/user\";\r\nimport { getUserByUserId, getPhotos } from \"../services/firebase\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nexport default function usePhotos() {\r\n  const [photos, setPhotos] = useState(null);\r\n  const { user } = useContext(UserContext);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    async function getTimelinePhotos() {\r\n      const [{ following }] = await getUserByUserId(user.uid);\r\n      let followedUserPhotos = [];\r\n\r\n      if (following === undefined) {\r\n        followedUserPhotos = [];\r\n      } else if (following.length > 0) {\r\n        followedUserPhotos = await getPhotos(\r\n          user.uid,\r\n          following,\r\n          user.displayName\r\n        );\r\n      }\r\n\r\n      followedUserPhotos.sort((a, b) => b.dateCreated - a.dateCreated);\r\n      setPhotos(followedUserPhotos);\r\n    }\r\n\r\n    if (user !== null) {\r\n      getTimelinePhotos();\r\n    } else {\r\n      history.push(\"/login\");\r\n    }\r\n  }, [user, history]);\r\n\r\n  return { photos };\r\n}\r\n","import { useState, useContext } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport FirebaseContext from \"../../context/firebase\";\r\nimport UserContext from \"../../context/user\";\r\nimport useUser from \"../../hooks/use-user\";\r\n\r\nexport default function Actions({\r\n  docId,\r\n  totalLikes,\r\n  likedPhoto,\r\n  handleFocus,\r\n}) {\r\n  const { user } = useContext(UserContext);\r\n  const { userInfo } = useUser();\r\n  const [toggleLiked, setToggleLiked] = useState(likedPhoto);\r\n  const [likes, setLikes] = useState(totalLikes);\r\n  const { firebase, FieldValue } = useContext(FirebaseContext);\r\n\r\n  const handleToggleLiked = async () => {\r\n    setToggleLiked((toggleLiked) => !toggleLiked);\r\n\r\n    await firebase\r\n      .firestore()\r\n      .collection(\"photos\")\r\n      .doc(docId)\r\n      .update({\r\n        likes: toggleLiked\r\n          ? FieldValue.arrayRemove(user.uid)\r\n          : FieldValue.arrayUnion(user.uid),\r\n      });\r\n\r\n    await firebase\r\n      .firestore()\r\n      .collection(\"users\")\r\n      .doc(userInfo.docId)\r\n      .update({\r\n        likes: toggleLiked\r\n          ? FieldValue.arrayRemove(docId)\r\n          : FieldValue.arrayUnion(docId),\r\n      });\r\n\r\n    setLikes((likes) => (toggleLiked ? likes - 1 : likes + 1));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex justify-between p-4\">\r\n        <div className=\"flex\">\r\n          <svg\r\n            onClick={handleToggleLiked}\r\n            onKeyDown={(event) => {\r\n              if (event.key === \"Enter\") {\r\n                handleToggleLiked();\r\n              }\r\n            }}\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            fill=\"none\"\r\n            viewBox=\"0 0 24 24\"\r\n            stroke=\"currentColor\"\r\n            tabIndex={0}\r\n            className={`w-8 mr-4 select-none cursor-pointer focus:outline-none hover:text-red-primary duration-200 ${\r\n              toggleLiked ? \"fill-red text-red-primary\" : \"text-black-light\"\r\n            }`}\r\n          >\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth={2}\r\n              d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\r\n            />\r\n          </svg>\r\n          <svg\r\n            onClick={handleFocus}\r\n            onKeyDown={(event) => {\r\n              if (event.key === \"Enter\") {\r\n                handleFocus();\r\n              }\r\n            }}\r\n            className=\"w-8 text-black-light select-none cursor-pointer focus:outline-none\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            fill=\"none\"\r\n            viewBox=\"0 0 24 24\"\r\n            stroke=\"currentColor\"\r\n            tabIndex={0}\r\n          >\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth={2}\r\n              d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\r\n            />\r\n          </svg>\r\n        </div>\r\n      </div>\r\n      <div className=\"p-4 py-0\">\r\n        <p className=\"font-bold\">\r\n          {likes === 1 ? `${likes} like` : `${likes} likes`}\r\n        </p>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nActions.propTypes = {\r\n  docId: PropTypes.string.isRequired,\r\n  totalLikes: PropTypes.number.isRequired,\r\n  likedPhoto: PropTypes.bool.isRequired,\r\n  handleFocus: PropTypes.func.isRequired,\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Footer({ caption, username }) {\r\n  return (\r\n    <div className=\"p-4 pt-2 pb-0\">\r\n      <Link to={`/p/${username}`}>\r\n        <span className=\"mr-2 font-bold\">{username}</span>\r\n      </Link>\r\n      <span className=\"\">{caption}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nFooter.propTypes = {\r\n  caption: PropTypes.string.isRequired,\r\n  username: PropTypes.string.isRequired,\r\n};\r\n","import { useState, useContext } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport FirebaseContext from \"../../context/firebase\";\r\nimport UserContext from \"../../context/user\";\r\nimport uniqid from \"uniqid\";\r\nimport useUser from \"../../hooks/use-user\";\r\n\r\nexport default function AddComment({\r\n  docId,\r\n  comments,\r\n  setComments,\r\n  commentInput,\r\n}) {\r\n  const [comment, setComment] = useState(\"\");\r\n  const { firebase, FieldValue } = useContext(FirebaseContext);\r\n  const { user } = useContext(UserContext);\r\n  const { userInfo } = useUser();\r\n\r\n  const handleSubmitComment = async (e) => {\r\n    e.preventDefault();\r\n\r\n    setComments([{ displayName: user.displayName, comment }, ...comments]);\r\n    setComment(\"\");\r\n\r\n    const commentId = uniqid();\r\n\r\n    // add comment to user collection\r\n    firebase\r\n      .firestore()\r\n      .collection(\"users\")\r\n      .doc(userInfo.docId)\r\n      .update({\r\n        comments: FieldValue.arrayUnion({\r\n          photoDocId: docId,\r\n          comment,\r\n          commentId,\r\n        }),\r\n      });\r\n\r\n    // add comment to photo collection\r\n    return firebase\r\n      .firestore()\r\n      .collection(\"photos\")\r\n      .doc(docId)\r\n      .update({\r\n        comments: FieldValue.arrayUnion({\r\n          displayName: user.displayName,\r\n          comment,\r\n          userId: user.uid,\r\n          commentId,\r\n          userDocId: userInfo.docId,\r\n        }),\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"border-t border-gray-primary bg-white absolute inset-x-0 bottom-0 justify-center \">\r\n      <form\r\n        className=\"flex justify-between pl-0 pr-5 \"\r\n        method=\"post\"\r\n        onSubmit={(e) =>\r\n          comment.length >= 1 ? handleSubmitComment(e) : e.preventDefault()\r\n        }\r\n      >\r\n        <input\r\n          aria-label=\"Add a comment\"\r\n          autoComplete=\"off\"\r\n          className=\"text-sm text-gray-base w-full mr-3 py-5 px-4\"\r\n          type=\"text\"\r\n          name=\"add-comment\"\r\n          placeholder=\"Add a comment\"\r\n          value={comment}\r\n          onChange={({ target }) => setComment(target.value)}\r\n          ref={commentInput}\r\n        />\r\n        <button\r\n          className={`text-sm font-bold text-blue-primary ${\r\n            !comment && \"opacity-25\"\r\n          }`}\r\n          type=\"button\"\r\n          disabled={comment.length < 1}\r\n          onClick={handleSubmitComment}\r\n        >\r\n          Post\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nAddComment.propTypes = {\r\n  docId: PropTypes.string.isRequired,\r\n  comments: PropTypes.array.isRequired,\r\n  setComments: PropTypes.func.isRequired,\r\n  commentInput: PropTypes.object.isRequired,\r\n};\r\n","import { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { formatDistance } from \"date-fns\";\r\nimport { Link } from \"react-router-dom\";\r\nimport AddComment from \"./AddComment\";\r\nimport useUser from \"../../hooks/use-user\";\r\nimport { deleteCommentByCommentId } from \"../../services/firebase\";\r\n\r\nexport default function Comments({\r\n  docId,\r\n  comments: allComments,\r\n  posted,\r\n  commentInput,\r\n  page,\r\n}) {\r\n  const [comments, setComments] = useState(allComments);\r\n  const { userInfo } = useUser();\r\n  const [deletePostButton, setDeletePostButton] = useState(false);\r\n  const [commentToDelete, setCommentToDelete] = useState(\"\");\r\n  let maxComments = 3;\r\n  if (page === \"post\") {\r\n    maxComments = comments.length;\r\n  }\r\n\r\n  // sets the comment that the user wants to delete, shows confirmation 'y n'\r\n  function handleX(comment) {\r\n    setCommentToDelete(comment);\r\n    setDeletePostButton(!deletePostButton);\r\n  }\r\n\r\n  // deletes the comment from the database, refreshes the page\r\n  function handleY() {\r\n    deleteCommentByCommentId(docId, allComments, commentToDelete, userInfo);\r\n    setDeletePostButton(!deletePostButton);\r\n    setTimeout(function () {\r\n      window.location.reload();\r\n    }, 500);\r\n  }\r\n\r\n  // closes the delete options\r\n  function handleN() {\r\n    setDeletePostButton(!deletePostButton);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"p-4 pt-1 pb-4 mb-14\">\r\n        {comments.length >= 3 && page === \"timeline\" && (\r\n          <Link to={`/post/${docId}`}>\r\n            <p className=\"text-sm text-gray-base mb-1 cursor-pointer\">\r\n              View all comments\r\n            </p>\r\n          </Link>\r\n        )}\r\n        {comments.slice(0, maxComments).map((item) => (\r\n          <div\r\n            key={`${item.comment}-${item.displayName}`}\r\n            className=\"mb-1 flex flex-row justify-between\"\r\n          >\r\n            <div>\r\n              <Link to={`/p/${item.displayName}`}>\r\n                <span className=\"mr-2 font-bold\">{item.displayName}</span>\r\n              </Link>\r\n              <span>{item.comment}</span>\r\n            </div>\r\n            <div className=\"flex flex-col\">\r\n              {/* if this is the logged in users comment, show the 'x' button to start the deletion process */}\r\n              {userInfo.userId === item.userId && !deletePostButton && (\r\n                <p\r\n                  className=\"font-bold text-xl hover:text-red-primary cursor-pointer duration-150 leading-5\"\r\n                  title={\"delete your comment\"}\r\n                  onClick={() => {\r\n                    handleX(item.commentId);\r\n                  }}\r\n                >\r\n                  ×\r\n                </p>\r\n              )}\r\n              {/* if the logged in use clicks 'x' allow them to confirm their deletion with 'y n' */}\r\n              {deletePostButton && commentToDelete === item.commentId && (\r\n                <div className=\"flex flex-row\">\r\n                  {/* delete comment */}\r\n                  <p\r\n                    className=\"font-bold text-xs hover:text-red-primary cursor-pointer duration-150 leading-loose mr-2\"\r\n                    onClick={handleY}\r\n                    title={\"confirm delete\"}\r\n                  >\r\n                    y\r\n                  </p>\r\n                  {/* don't delete comment */}\r\n                  <p\r\n                    className=\"font-bold text-xs hover:text-green-primary cursor-pointer duration-150 leading-loose\"\r\n                    onClick={handleN}\r\n                    title={\"cancel delete\"}\r\n                  >\r\n                    n\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        ))}\r\n        <p className=\"text-gray-base uppercase text-xs mt-2\">\r\n          {formatDistance(posted, new Date())} ago\r\n        </p>\r\n      </div>\r\n      <AddComment\r\n        docId={docId}\r\n        comments={comments}\r\n        setComments={setComments}\r\n        commentInput={commentInput}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nComments.propTypes = {\r\n  docId: PropTypes.string.isRequired,\r\n  comments: PropTypes.array.isRequired,\r\n  posted: PropTypes.number.isRequired,\r\n  commentInput: PropTypes.object.isRequired,\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function Image({ src, caption }) {\r\n  return <img src={src} alt={caption} />;\r\n}\r\n\r\nImage.propTypes = {\r\n  src: PropTypes.string.isRequired,\r\n  caption: PropTypes.string.isRequired,\r\n};\r\n","import { useRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Header from \"./Header\";\r\nimport Image from \"./Image\";\r\nimport Actions from \"./Actions\";\r\nimport Footer from \"./Footer\";\r\nimport Comments from \"./Comments\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Post({ content }) {\r\n  const commentInput = useRef(null);\r\n  const handleFocus = () => commentInput.current.focus();\r\n  const docId = content.docId;\r\n\r\n  return (\r\n    <div className=\"lg:rounded col-span-4 border-t border-b lg:border border-gray-primary bg-white mt-4 mb-2 relative\">\r\n      <Header\r\n        userId={content.userId}\r\n        docId={content.docId}\r\n        photoStorageName={content.photoStorageName}\r\n        page=\"post\"\r\n      />\r\n      <Link to={`/post/${docId}`}>\r\n        <Image src={content.imageSrc} caption={content.caption} />\r\n      </Link>\r\n      <Actions\r\n        docId={content.docId}\r\n        totalLikes={content.likes.length}\r\n        likedPhoto={content.userLikedPhoto}\r\n        handleFocus={handleFocus}\r\n      />\r\n      <Footer username={content.username} caption={content.caption} />\r\n      <Comments\r\n        docId={content.docId}\r\n        comments={content.comments}\r\n        posted={content.dateCreated}\r\n        commentInput={commentInput}\r\n        page=\"timeline\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nPost.propTypes = {\r\n  content: PropTypes.shape({\r\n    username: PropTypes.string.isRequired,\r\n    imageSrc: PropTypes.string.isRequired,\r\n    caption: PropTypes.string.isRequired,\r\n    docId: PropTypes.string.isRequired,\r\n    userLikedPhoto: PropTypes.bool.isRequired,\r\n    likes: PropTypes.array.isRequired,\r\n    comments: PropTypes.array.isRequired,\r\n    dateCreated: PropTypes.number.isRequired,\r\n  }),\r\n};\r\n","import React from \"react\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport usePhotos from \"../hooks/use-photos\";\r\nimport Post from \"./post/Post\";\r\n\r\nexport default function Timeline() {\r\n  // get the logged in user's photos\r\n  const { photos } = usePhotos();\r\n\r\n  return (\r\n    <div className=\"container col-span-2\" style={{ marginTop: \"-17px\" }}>\r\n      {!photos ? (\r\n        <>\r\n          <Skeleton count={4} width={500} height={500} className=\"mt-6\" />\r\n        </>\r\n      ) : photos?.length > 0 ? (\r\n        photos.map((content) => <Post key={content.docId} content={content} />)\r\n      ) : (\r\n        <p className=\"text-center text-2xl mt-5\">Follow users to see photos!</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\n\r\nexport default function User({ username, fullName, avatar }) {\r\n  return !username || !fullName ? (\r\n    <Skeleton count={1} height={61} />\r\n  ) : (\r\n    <Link\r\n      to={`/p/${username}`}\r\n      className=\"grid grid-cols-4 gap-4 mb-6 items-center\"\r\n    >\r\n      <div className=\"flex items-center justify-between col-span-1\">\r\n        <img\r\n          src={avatar}\r\n          className=\"rounded-full h-12 w-12 flex mr-3 object-cover\"\r\n          alt=\"avi\"\r\n        />\r\n      </div>\r\n      <div className=\"col-span-3\">\r\n        <p className=\"text-sm font-bold\">{username}</p>\r\n        <p className=\"text-sm\">{fullName}</p>\r\n      </div>\r\n    </Link>\r\n  );\r\n}\r\nUser.propTypes = {\r\n  username: PropTypes.string,\r\n  fullName: PropTypes.string,\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  updateLoggedInUserFollowing,\r\n  updateFollowedUserFollowers,\r\n} from \"../../services/firebase\";\r\n\r\nexport default function SuggestedProfile({\r\n  profileDocId,\r\n  loggedInUserDocId,\r\n  username,\r\n  profileId,\r\n  userId,\r\n  avatar,\r\n}) {\r\n  const [followed, setFollowed] = useState(false);\r\n\r\n  async function handleFollowUser() {\r\n    setFollowed(true);\r\n\r\n    await updateLoggedInUserFollowing(loggedInUserDocId, profileId, false);\r\n    await updateFollowedUserFollowers(profileDocId, userId);\r\n  }\r\n\r\n  return !followed ? (\r\n    <div className=\"flex flex-row items-center align-items justify-between\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <img\r\n          src={avatar}\r\n          className=\"rounded-full h-8 w-8 flex object-cover mr-3\"\r\n          alt=\"avis\"\r\n        />\r\n        <Link to={`/p/${username}`}>\r\n          <p className=\"font-bold text-sm\">{username}</p>\r\n        </Link>\r\n      </div>\r\n      <button\r\n        className=\"text-xs font-bold text-blue-primary\"\r\n        type=\"button\"\r\n        onClick={handleFollowUser}\r\n      >\r\n        follow\r\n      </button>\r\n    </div>\r\n  ) : null;\r\n}\r\n\r\nSuggestedProfile.propTypes = {\r\n  profileDocId: PropTypes.string.isRequired,\r\n  username: PropTypes.string.isRequired,\r\n  profileId: PropTypes.string.isRequired,\r\n  userId: PropTypes.string.isRequired,\r\n  loggedInUserDocId: PropTypes.string.isRequired,\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport SuggestedProfile from \"./SuggestedProfile\";\r\nimport { getSuggestedProfiles } from \"../../services/firebase\";\r\n\r\nexport default function Suggestions({ userId, following, loggedInUserDocId }) {\r\n  const [profiles, setProfiles] = useState(null);\r\n\r\n  useEffect(() => {\r\n    async function suggestedProfiles() {\r\n      const response = await getSuggestedProfiles(userId, following);\r\n      setProfiles(response);\r\n    }\r\n\r\n    if (userId) {\r\n      suggestedProfiles();\r\n    }\r\n  }, [userId, following]);\r\n\r\n  return !profiles ? (\r\n    <Skeleton count={10} height={150} className=\"mt-5\" />\r\n  ) : profiles.length > 0 ? (\r\n    <div className=\"rounded flex flex-col\">\r\n      <div className=\"text-sm flex items-center align-items justify-between mb-2\">\r\n        <p className=\"font-bold text-gray-base\">Suggestions for you</p>\r\n      </div>\r\n      <div className=\"mt-4 grid gap-5\">\r\n        {profiles.map((profile) => (\r\n          <SuggestedProfile\r\n            key={profile.docId}\r\n            profileDocId={profile.docId}\r\n            username={profile.username}\r\n            profileId={profile.userId}\r\n            userId={userId}\r\n            avatar={profile.avatar}\r\n            loggedInUserDocId={loggedInUserDocId}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  ) : null;\r\n}\r\n\r\nSuggestions.propTypes = {\r\n  userId: PropTypes.string,\r\n  following: PropTypes.array,\r\n  loggedInUserDocId: PropTypes.string,\r\n};\r\n","import React from \"react\";\r\nimport useUser from \"../../hooks/use-user\";\r\nimport User from \"./User\";\r\nimport Suggestions from \"./Suggestions\";\r\n\r\nexport default function Sidebar() {\r\n  // user info for further development\r\n  const { userInfo } = useUser();\r\n\r\n  // use destructuring the user to make further coding easier\r\n  // const {\r\n  //   user: { fullName, username, userId, following, avatar, docId },\r\n  // } = useUser();\r\n\r\n  return (\r\n    <div className=\"p-4 flex justify-center col-span-2 lg:block lg:col-span-1 lg:relative mb-24\">\r\n      <div className=\"flex flex-col lg:fixed\">\r\n        <User\r\n          username={userInfo.username}\r\n          fullName={userInfo.fullName}\r\n          avatar={userInfo.avatar}\r\n        />\r\n        <Suggestions\r\n          userId={userInfo.userId}\r\n          following={userInfo.following}\r\n          loggedInUserDocId={userInfo.docId}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport Timeline from \"../components/Timeline\";\r\nimport Header from \"../components/Header\";\r\nimport MobileHeader from \"../components/MobileHeader\";\r\nimport Footer from \"../components/Footer\";\r\nimport Sidebar from \"../components/sidebar/Sidebar\";\r\n\r\nexport default function Dashboard() {\r\n  useEffect(() => {\r\n    document.title = \"instagram\";\r\n  }, []);\r\n  return (\r\n    <div className=\"bg-gray-background \">\r\n      <Header />\r\n      <MobileHeader />\r\n      <div className=\"grid sm:grid-cols-2 2xl:grid-cols-3 gap-4 justify between mx-auto max-w-screen-md\">\r\n        <Timeline />\r\n        <Sidebar />\r\n      </div>\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}